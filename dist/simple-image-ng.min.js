!function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="/",n(0)}([function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=t(3),r=o(i);angular.module("gumga.simpleImage",[]).component("simpleImage",r.default)},function(e,n){"use strict";function t(e,n,t,o){e.myCroppedImage="",e.myImage=n,e.crop=function(e){var n=e.substring(e.indexOf(":")+1,e.indexOf(";")),o={mimeType:n,name:"profilePicture."+n.substring(n.lastIndexOf("/")+1,n.length),bytes:e.substring(e.indexOf(",")+1,e.length),size:Math.round(6*e.length/8)};t.close(o)},e.close=function(){t.close()},e.type=o||"circle"}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t,t.$inject=["$scope","image","$uibModalInstance","type"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default='\n    <div class="modal-header modal-header-my-profile">\n      <i class="glyphicon glyphicon-remove close-crop-my-profile" ng-click="close()"></i>\n      <span>Arraste a imagem para ajustar</span>\n    </div>\n    <div class="modal-body modal-body-my-profile">\n      <div class="cropArea">\n        <img-crop image="myImage" result-image="myCroppedImage" area-type="{{type}}"></img-crop>\n      </div>\n    </div>\n    <div class="modal-footer modal-footer-my-profile">\n      <button class="btn btn-done-my-profile"\n              type="button"\n              ng-click="crop(myCroppedImage)">\n              <i class="glyphicon glyphicon-ok"></i>\n              </button>\n    </div>\n  '},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n,t,o,i){var r,l=this;navigator.getUserMedia=navigator.getUserMedia||navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.buttonText=l.buttonText||"Alterar Foto",l.buttonChangeText=l.buttonChangeText||"Carregar Foto",l.buttonCaptureText=l.buttonCaptureText||"Tirar Foto",l.buttonRemoveText=l.buttonRemoveText||"Remover Foto",l.typeThumbnail=l.typeThumbnail||"circle",l.user={picture:l.ngModel};var d=function(){return l.defaultPicture||"resources/images/user-not-image.png"},s=function(n,t){e(function(){l.ngModel?l.user.pictureURL="data:"+l.ngModel.mimeType+";base64,"+l.ngModel.bytes:l.user.pictureURL=d()}),t||u()},u=function(){l.ngModel=l.user.picture};e(function(){r=i.find("input")[0],r.onchange=function(e){var n=e.srcElement||e.target;if(0!=n.files.length){var t=n.files[0];if(t){var o=new FileReader;o.readAsDataURL(t),o.onload=function(e){var n=e.target.result;l.openModalCropImage(n)}}}},l.user.picture?s(l.user.picture,!0):l.user.pictureURL=d()},1e3),l.capturePicture=function(){var e=n.open({template:g.default,controller:p.default,controllerAs:"$ctrl",backdrop:"static",size:"md",resolve:{}});e.result.then(function(e){e&&l.openModalCropImage(e)})},l.loadPicture=function(){r.click()},l.removePicture=function(){e(function(){l.user.pictureURL=d(),l.user.picture=null,u()})},l.openModalCropImage=function(e){var t=n.open({template:a.default,controller:c.default,controllerAs:"$ctrl",backdrop:"static",size:"md",resolve:{image:function(){return e},type:function(){return l.type||"circle"}}});t.result.then(function(e){e&&(l.user.picture=e,s(l.user.picture))})}}Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),a=o(r),l=t(1),c=o(l),d=t(4),s=o(d),u=t(5),p=o(u),m=t(6),g=o(m);i.$inject=["$timeout","$uibModal","$http","$rootScope","$element"],n.default={bindings:{defaultPicture:"@?",type:"@?",ngModel:"=",buttonText:"@?",buttonChangeText:"@?",buttonCaptureText:"@?",buttonRemoveText:"@?",typeThumbnail:"@?"},template:s.default,controller:i}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default='\n\n<style>\n  my-account-embedded .form-control.gmd[disabled]{\n    background: #E4E4E4;\n  }\n  .cropArea {\n    background: #E4E4E4;\n    overflow: hidden;\n    width:100%;\n    height:350px;\n  }\n  .modal-body-my-profile{\n    padding: 0;\n  }\n  .modal-footer-my-profile{\n    background-color: #e0e0e0 !important;\n    padding: 0;\n    border: 0;\n    height: 100px;\n  }\n  .modal-header-my-profile{\n    background: #1eb7ad;\n    border: none;\n    color: #fff;\n  }\n  .modal-header-my-profile > span{\n    font-weight: 500;\n    font-size: 19px;\n    line-height: 19px;\n  }\n  .btn-done-my-profile{\n    width: 60px;\n    color: #fff !important;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n    outline: none !important;\n    right: 25px;\n    top: 365px;\n    font-size: 25px;\n    background: #1eb7ad;\n    padding-top: 10px;\n  }\n  .btn-take-my-profile{\n    width: 60px;\n    padding-top: 10px;\n    color: #fff !important;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n    outline: none !important;\n    font-size: 25px;\n    right: 25px;\n    top: 465px;\n    background: #1eb7ad;\n  }\n  .close-crop-my-profile{\n    cursor: pointer;\n  }\n  .simple-image-container {\n    width: 100%;\n    text-align: center;\n  }\n\n  .simple-image-container > img {\n      margin: 0 auto;\n      max-height: 200px;\n  }\n</style>\n\n<div class="simple-image-container">\n<img ng-src="{{$ctrl.user.pictureURL}}" class="img-responsive {{$ctrl.typeThumbnail == \'circle\' ? \'img-circle\' : \'\'}}"/>\n<input class="simple-image-file-input" type="file" style="display: none;" accept=".png, .jpg, .jpeg"/>\n<div class="dropdown gmd" align="center" style="margin-top: 15px;">\n    <button class="link gmd btn" aria-expanded="false"\n         style="white-space: normal;font-size: 13px;overflow: hidden;"\n         data-toggle="dropdown"\n         aria-haspopup="true"\n         aria-hidden="true">\n        <i class="glyphicon glyphicon-pencil"></i>\n        {{$ctrl.buttonText}}\n    </button>\n    <ul class="dropdown-menu gmd" aria-labelledby="dropdownMenu">\n        <li ><a style="padding: 15px;cursor: pointer;" ng-click="$ctrl.capturePicture()">{{$ctrl.buttonCaptureText}}</a></li>\n        <li ><a style="padding: 15px;cursor: pointer;" ng-click="$ctrl.loadPicture()">{{$ctrl.buttonChangeText}}</a></li>\n        <li ><a style="padding: 15px;cursor: pointer;" ng-click="$ctrl.removePicture()">{{$ctrl.buttonRemoveText}}</a></li>\n    </ul>\n</div>\n</div>\n'},function(e,n){"use strict";function t(e,n,t){var o,i,r;navigator.getUserMedia({video:!0},function(e){t(function(){r=e,o=document.getElementById("video-area-my-profile"),i=document.getElementById("canvas-area-my-profile"),o.srcObject=e,o.play()},500)},function(n){"PermissionDeniedError"==n.name?(swal("Você precisa permitir o acesso a sua Câmera."),e.close()):"DevicesNotFoundError"==n.name?(swal("Conecte uma câmera para tirar fotos."),e.close()):(swal("Aconteceu um erro na tentativa ligar a câmera."),e.close())}),e.take=function(){i.width=o.clientWidth,i.height=o.clientHeight,i.getContext("2d").drawImage(o,0,0,i.width,i.height);var n=i.toDataURL("image/png");e.close(n)},e.close=function(e){r&&(r.stop&&r.stop(),r.stopUserMedia&&r.stopUserMedia(),r.getVideoTracks().forEach(function(e){e.stop()})),n.close(e)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t,t.$inject=["$scope","$uibModalInstance","$timeout"]},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default='\n\n    <div class="modal-header modal-header-my-profile">\n      <i class="glyphicon glyphicon-remove close-crop-my-profile" ng-click="close()"></i>\n      <span>Tirar foto</span>\n    </div>\n    <div class="modal-body modal-body-my-profile" style="margin-bottom: -5px;height: 449px;">\n      <video id="video-area-my-profile" width="100%" height="100%"></video>\n      <canvas id="canvas-area-my-profile" style="display:none;"></canvas>\n    </div>\n    <div class="modal-footer modal-footer-my-profile">\n      <button class="btn btn-take-my-profile"\n              type="button"\n              ng-click="take()">\n              <i class="glyphicon glyphicon-camera"></i>\n              </button>\n    </div>\n    '}]);